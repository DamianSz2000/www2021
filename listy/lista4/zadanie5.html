<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<style>
    #ramka {height:700px;width:700px; border:1px solid grey;margin:auto;position:relative}
    b {display:block;height:10px;width:10px;position:absolute;text-align:center;}
    h1,div {text-align:center;margin:10px}
    img{width: 25px;}
</style>
</head>
<body>

</body>

<h1>Samoloty</h1>
<div id='ramka'>
	<script>
	for(let i=0;i<50;i++)
		document.write("<b><img src='img/plane.png'></b>");
	</script>	
</div>

<div>
    <button onclick="run=false"> Stop </button>
    <button onclick="run=true;step()"> Start </button>
</div>


<script>
        var balls=document.getElementsByTagName('B');
        var run=false;
        for(ball of balls)
        {
            ball.x=Math.random()*690;
            ball.y=Math.random()*690;

            ball.vx=Math.random()*20-10;
            ball.vy=Math.random()*20-10;
            
            ball.style.left=ball.x+"px";
            ball.style.top =ball.y+"px";
            var test = Math.atan2(ball.vy,ball.vx);
            ball.style.transform="rotate("+test+"rad)";
            
            ball.onmousedown=stop;
        }

    function step()
    {
        for(let ball of balls)
        {
            ball.x+=ball.vx;
            ball.y+=ball.vy;
            
            if(ball.x>690 || ball.x<0)  ball.vx*=-1;
            if(ball.y>690 || ball.y<0)  ball.vy*=-1;
            
            ball.style.left=ball.x+"px";
            ball.style.top =ball.y+"px";
            var test2 = (Math.atan2(ball.vy,ball.vx))+0.785398163;
            ball.style.transform="rotate("+test2+"rad)";
        }
        
        if(run)
            setTimeout(step,20);
        
    }
    
    function stop()
    {
        this.vx=0;
        this.vy=0;
    }
</script>

</html>
